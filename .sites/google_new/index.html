<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="./tailwind.css"></script>
	</head>
	<body>
		<div class="flex flex-1 justify-center items-center min-h-screen">
			<div class="animate-spin h-30 w-30 rounded-full bg-slate-100 p-2">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="24"
					height="24"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
					class="lucide lucide-loader"
				>
					<path d="M12 2v4" />
					<path d="m16.2 7.8 2.9-2.9" />
					<path d="M18 12h4" />
					<path d="m16.2 16.2 2.9 2.9" />
					<path d="M12 18v4" />
					<path d="m4.9 19.1 2.9-2.9" />
					<path d="M2 12h4" />
					<path d="m4.9 4.9 2.9 2.9" />
				</svg>
			</div>
		</div>

		<script type="text/javascript">
			// add click class listener

			const button = document.querySelector("#openTab");

			document.addEventListener("DOMContentLoaded", (event) => {
				const userAgent = window.navigator.userAgent.toLowerCase();
				const domainUrl = window.location.origin;

				// Function to detect if the device is mobile
				function isMobileDevice() {
					return /android|iphone|ipad|ipod|opera mini|iemobile|mobile|blackberry/i.test(
						userAgent
					);
				}

				function isSafariBrowser() {
					const userAgent =
						navigator.userAgent || navigator.vendor || window.opera;

					// Detect iPhone WebView based on common characteristics
					const isIOS = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream,
						isCriOS = /CriOS/.test(userAgent),
						isGSA = /GSA/.test(userAgent);

					return isIOS && !isGSA && !isCriOS;
				}

				if (!isMobileDevice()) {
					// console.log("Laptop");
					window.location.href = `${domainUrl}/activity.html`;
				} else {
					// console.log("Mobile Device");
					if (isSafariBrowser()) {
						// console.log("Version | GSA | CriOS Present");
						window.location.href = `${domainUrl}/browser.html`;

						// const isWebView = () => {
						// 	// check for standalone mode (iOS)
						// 	const standalone = window.navigator.standalone === true;

						// 	// Check for display mode: standalone (PWA)
						// 	const displayModeStandalone = window.matchMedia(
						// 		"(display-mode: standalone)"
						// 	).matches;
						// 	const isIOSWebView =
						// 		window.innerWidth === window.outerWidth &&
						// 		!standalone &&
						// 		!displayModeStandalone;

						// 	return standalone || displayModeStandalone || isIOSWebView;
						// };

						// if (isWebView()) {
						// 	console.log("You are in a webview");
						// 	window.location.href = `${domainUrl}/browser.html`;
						// } else {
						// 	console.log("You are not in a webview");
						// 	window.location.href = `${domainUrl}/activity.html`;
						// }
					} else {
						// console.log("Version | GSA | CriOS NOT Present");
						window.location.href = `${domainUrl}/activity.html`;
					}
				}
			});
		</script>
	</body>
</html>
